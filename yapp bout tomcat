install apache tomcat  
created one folder name firstapp  
accessible from localhost and remote machine 
permissions, user/group ownership  
 
#first thing first ..install jdk 
sudo yum install java-21-openjdk-devel -y 
(if the above command aint work try--> replace yum with dnf) 
 
 
 
#installed using wget ..direct link 
cmd: 
wget https://dlcdn.apache.org/tomcat/tomcat-9/v9.0.111/bin/apache-tomcat-9.0.111.tar.gz 
 
 
installed .tar.gz file which later extracted  
extract cmd: 
tar -xzvf apache-tomcat-9.0.111.tar.gz 
and mv to ./opt dir (opt stands for optional software) 
cmd: 
sudo mv apache-tomcat-10.1.48 /opt/tomcat 
/opt/tomcat --> simply renamed this apache-tomcat-10.1.48 into tomcat 
  
 
#understanding users and groups 
create a tomcat user 
cmd: 
sudo useradd -r -m -U -d /opt/tomcat -s /bin/false tomcat 
-r --> system user 
-m --> create home dir 
-U --> create a group with the same name 
-d /opt/tomcat --> home directory for tomcat 
-s /bin/false ---> no login shell 
why do this? like creating user? 

running  tomcat as a non-root user is safer 
if tomcat is hacked, the attacker wont get root access 
 
#set ownership of tomcat folder 
sudo chown -R tomcat:tomcat /opt/tomcat 
 
tomcat:tomcat -->user tomcat, group tomcat 
-R--> recursively changes ownership of all files/folders 

#set execute permission on scripts
sudo chmod -R u+x /opt/tomcat/bin

u+x --> "give execute permission to the user (owner)

u+x --> "give execute permission to the user (owner) 


ps aux | grep tomcat
sudo kill -9 <PID>

#starting tomcat 
cd /opt/tomcat/bin 
sudo ./startup.sh 
 
access in browser: http//localhost:8080 -->tomcat welcome page 
 
 
#deploying a web application 
sudo mkdir /opt/tomcat/webapps/ 
sudo mkdir firstapp 
cd firstapp 
sudo vim index.html 
 
#url :localhost:8080/firstapp 

content of index.html 
<!DOCTYPE html> 
<html> 
<head> 
  <title> My first tomcat app </title> 
</head> 
<body> 
   <h1> hello from apache tomcat! </h1> 
</body> 
</html> 
 
#restart tomcat 
sudo ./shutdown.sh 
sudo ./startup.sh 
 
#access your app localhost 
http://localhost:8080/firstapp 

#access your app remote machine 
http://<your ip>:8080/firstapp

#if remote access fails,check firewall 
sudo ufw allow 8080 
sudo ufw reload 
 
#summary 
download tomcat .tar.gz-->extracted -->moved to /opt/tomcat 
created tomcat user and group -->set ownership 
made scripts executable -->started tomcat -->verified with localhost 
created firstapp -->added index.html -->restarted tomcat -->accessed app 

ps aux | grep tomcat
sudo kill -9 <PID>
